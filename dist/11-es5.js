function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n,i=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return i=t.done,t},e:function(t){r=!0,n=t},f:function(){try{i||null==a.return||a.return()}finally{if(r)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){return function(){var e,o=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var a=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"4Saj":function(t,e,o){"use strict";o.r(e),o.d(e,"AngtenRfidModule",(function(){return it}));var a,n=o("ofXK"),i=o("tyNb"),r=o("FCZ4"),c=o("wzdi"),l=o("nS6G"),s=o("6i1F"),u=o("bzU9"),d=o("KALY"),h=o("K3ix"),b=o("nYR2"),p=o("fXoL"),f=o("3Pt+"),m=o("N7wC"),g=o("wd/R"),v=o("tk/3"),y=o("CR43"),C=o("j9gp"),T=o("7kUa"),w=o("Di65"),S=o("arFO"),I=o("V5BG"),D=o("dZIy"),Z=o("teW+"),R=o("eO1q"),x=o("0EPa"),k=((a=function(t){_inherits(o,t);var e=_createSuper(o);function o(t,a,n,i,r,c,s){var u;return _classCallCheck(this,o),(u=e.call(this,a))._fb=t,u._fileDownloadService=n,u._lookupTableService=i,u._angtenRFIDServiceProxy=r,u.bsModalRef=c,u.http=s,u.onSave=new p.q,u.isActive=!1,u.loading=!0,u.saving=!1,u.isEdit=!1,u.isView=!1,u.filesAll=[],u.loaiTaiSanItems=[{id:1,displayName:"\u0110\u1ea7u \u0111\u1ecdc th\u1ebb RFID"},{id:2,displayName:"\u0110\u1ea7u \u0111\u1ecdc c\u1ed1 \u0111\u1ecbnh"}],u.uploading=!1,u.maxFile=3,u.filesAllImg=[],u.filesAllFile=[],u.returnMessage="",u.excelAcceptTypes=".",u.linkServer=l.a.remoteServiceBaseUrl,u.createInputDto=new d.o,u.demoDto=new d.F,u.viTriTSList=[],u.thongTinSDList=[],u.thongTinSCBDList=[],u.thongTinHongList=[],u.thongTinMatList=[],u.thongTinHuyList=[],u.thongTinThanhLyList=[],u.dateString="MM/DD/YYYY",u.ngayHienTai=g(new Date),u}return _createClass(o,[{key:"ngOnInit",value:function(){var t=this;this.khoiTaoForm(),this._angtenRFIDServiceProxy.getUserDangNhap().subscribe((function(e){t.userDangNhap=e})),this._angtenRFIDServiceProxy.getAllNhaCC().subscribe((function(e){t.listNhaCC=e})),this._angtenRFIDServiceProxy.getAllLoaiTS().subscribe((function(e){t.listLoaiTS=e})),this.id?(this.isEdit=!0,this._angtenRFIDServiceProxy.getForEdit(this.id,this.isView).subscribe((function(e){t.demoDto=e,t._setValueForEdit()}))):(this.demoDto=new d.F,this.isEdit=!1),this.isView?this.form.disable():this.form.enable(),this.form.controls.loaiTaiSan.setValue(this.loaiTaiSanItems.find((function(t){return 2===t.id})))}},{key:"khoiTaoForm",value:function(){this.form=this._fb.group({tenTaiSan:["",f.y.required],loaiTaiSan:[],SerialNumber:[""],ProductNumber:[""],ReaderMACId:["",f.y.required],nhaCungCap:[""],hangSanXuat:[""],nguyenGia:[""],ngayMua:[""],ngayHetHanBH:[""],ngayHetHanSD:[""],ghiChu:[""]})}},{key:"onDownloadFile",value:function(t){var e=this;this._angtenRFIDServiceProxy.downloadFileUpload(t).subscribe((function(t){e._fileDownloadService.downloadTempFile(t)}))}},{key:"searchTrangThaiDuyet",value:function(t){var e=this,o=t.query;this._angtenRFIDServiceProxy.getAllNhaCC().subscribe((function(t){e.suggestionsSingle=e.filterTrangThaiDuyet(o,t)}))}},{key:"filterTrangThaiDuyet",value:function(t,e){var o,a=[],n=_createForOfIteratorHelper(e);try{for(n.s();!(o=n.n()).done;){var i=o.value;0===i.displayName.toLowerCase().indexOf(t.toLowerCase())&&a.push(i)}}catch(r){n.e(r)}finally{n.f()}return a}},{key:"save",value:function(){var t=this;""===m.a.getControlErr(this.form)&&(this.saving=!0,this._getValueForSave(),this._angtenRFIDServiceProxy.createOrEdit(this.createInputDto).pipe(Object(b.a)((function(){t.saving=!1}))).subscribe((function(e){t.id?(t.showUpdateMessage(),t.bsModalRef.hide(),t.onSave.emit()):(t.showCreateMessage(),t.bsModalRef.hide(),t.onSave.emit())})))}},{key:"_getValueForSave",value:function(){var t,e;this.createInputDto.id=this.id,this.createInputDto.tenTS=this.form.controls.tenTaiSan.value,this.createInputDto.loaiTS=null===(t=this.form.controls.loaiTaiSan.value)||void 0===t?void 0:t.id,this.createInputDto.serialNumber=this.form.controls.SerialNumber.value,this.createInputDto.productNumber=this.form.controls.ProductNumber.value,this.createInputDto.readerMACId=this.form.controls.ReaderMACId.value,this.createInputDto.nhaCC=null===(e=this.form.controls.nhaCungCap.value)||void 0===e?void 0:e.id,this.createInputDto.hangSanXuat=this.form.controls.hangSanXuat.value,this.createInputDto.nguyenGia=this.form.controls.nguyenGia.value,this.createInputDto.ngayMua=this.form.controls.ngayMua.value,this.createInputDto.ngayBaoHanh=this.form.controls.ngayHetHanBH.value,this.createInputDto.hanSD=this.form.controls.ngayHetHanSD.value,this.createInputDto.ghiChu=this.form.controls.ghiChu.value}},{key:"_setValueForEdit",value:function(){var t=this;this.form.controls.tenTaiSan.setValue(this.demoDto.tenTS),this.form.controls.loaiTaiSan.setValue(this.loaiTaiSanItems.find((function(e){return e.id===t.demoDto.loaiTS}))),this.form.controls.SerialNumber.setValue(this.demoDto.serialNumber),this.form.controls.ProductNumber.setValue(this.demoDto.productNumber),this.form.controls.ReaderMACId.setValue(this.demoDto.readerMacId),this.form.controls.nhaCungCap.setValue(this.listNhaCC.find((function(e){return e.id===t.demoDto.nhaCC}))),this.form.controls.hangSanXuat.setValue(this.demoDto.hangSanXuat),this.form.controls.nguyenGia.setValue(this.demoDto.nguyenGia),this.form.controls.ngayMua.setValue(m.a.getDateForEditFromMoment(this.demoDto.ngayMua)),this.form.controls.ngayHetHanBH.setValue(m.a.getDateForEditFromMoment(this.demoDto.ngayBaoHanh)),this.form.controls.ngayHetHanSD.setValue(m.a.getDateForEditFromMoment(this.demoDto.hanSD)),this.form.controls.ghiChu.setValue(this.demoDto.ghiChu)}},{key:"onSelectAll",value:function(t){var e;(e=this.filesAll).push.apply(e,_toConsumableArray(t.addedFiles))}},{key:"close",value:function(){this.bsModalRef.hide()}}]),o}(c.a)).\u0275fac=function(t){return new(t||a)(p.Ub(f.d),p.Ub(p.u),p.Ub(u.a),p.Ub(d.T),p.Ub(d.c),p.Ub(h.a),p.Ub(v.b))},a.\u0275cmp=p.Ob({type:a,selectors:[["app-create-or-edit-angten-rfid"]],outputs:{onSave:"onSave"},features:[p.Fb],decls:68,vars:56,consts:[["tabindex","-1","autocomplete","off",1,"form-horizontal",3,"formGroup","ngSubmit"],["createUserModal","ngForm"],[3,"title","onCloseClick"],[1,"modal-body","fixed-modal-height"],[1,"row","ui-fluid"],[1,"col-md-6"],[1,"form-group"],[3,"control","title"],["type","text","id","tenTaiSan","name","tenTaiSan","formControlName","tenTaiSan","maxlength","50","pInputText",""],[3,"control"],[3,"form","title"],["formControlName","loaiTaiSan","placeholder","Ch\u1ecdn","optionLabel","displayName","resetFilterOnHide","true",3,"disabled","options","showClear","filter"],["type","text","id","SerialNumber","name","SerialNumber","formControlName","SerialNumber","pInputText","","maxlength","255"],["type","text","id","ProductNumber","name","ProductNumber","formControlName","ProductNumber","pInputText","","maxlength","255"],["type","text","id","ReaderMACId","name","ReaderMACId","formControlName","ReaderMACId","pInputText","","maxlength","50"],["for","DmCaLamViec_lblMaCaLamViec","id","DmCaLamViec_lblMaCaLamViec"],["field","displayName","formControlName","nhaCungCap",3,"suggestions","dropdown","forceSelection","size","completeMethod"],["type","text","id","hangSanXuat","name","hangSanXuat","formControlName","hangSanXuat","maxlength","255","pInputText",""],[3,"title"],["decimal","","id","nguyenGia","name","nguyenGia","formControlName","nguyenGia","maxlength","50","pInputText",""],["formControlName","ngayMua",3,"dateFormat","showIcon","monthNavigator","yearNavigator","yearRange"],["formControlName","ngayHetHanBH",3,"dateFormat","showIcon","monthNavigator","yearNavigator","yearRange"],["formControlName","ngayHetHanSD",3,"dateFormat","showIcon","monthNavigator","yearNavigator","yearRange"],[1,"col-md-12"],["formControlName","ghiChu","id","ghiChu","rows","4","maxlength","4000",1,"form-control"],[3,"cancelDisabled","saveHidden","cancelLabel","onCancelClick"]],template:function(t,e){1&t&&(p.ac(0,"form",0,1),p.ic("ngSubmit",(function(){return e.save()})),p.ac(2,"abp-modal-header",2),p.ic("onCloseClick",(function(){return e.bsModalRef.hide()})),p.Zb(),p.ac(3,"div",3),p.ac(4,"div",4),p.ac(5,"div",5),p.ac(6,"div",6),p.Vb(7,"dft-label-validation",7),p.Vb(8,"input",8),p.Vb(9,"dft-validation",9),p.Zb(),p.Zb(),p.ac(10,"div",5),p.ac(11,"div",6),p.Vb(12,"dft-label-validation",10),p.Vb(13,"p-dropdown",11),p.Zb(),p.Zb(),p.Zb(),p.ac(14,"div",4),p.ac(15,"div",5),p.ac(16,"div",6),p.Vb(17,"dft-label-validation",7),p.Vb(18,"input",12),p.Vb(19,"dft-validation",9),p.Zb(),p.Zb(),p.ac(20,"div",5),p.ac(21,"div",6),p.Vb(22,"dft-label-validation",7),p.Vb(23,"input",13),p.Vb(24,"dft-validation",9),p.Zb(),p.Zb(),p.Zb(),p.ac(25,"div",4),p.ac(26,"div",5),p.ac(27,"div",6),p.Vb(28,"dft-label-validation",7),p.Vb(29,"input",14),p.Vb(30,"dft-validation",9),p.Zb(),p.Zb(),p.Vb(31,"div",5),p.Zb(),p.ac(32,"div",4),p.ac(33,"div",5),p.ac(34,"div",6),p.ac(35,"label",15),p.Rc(36,"Nh\xe0 cung c\u1ea5p"),p.Zb(),p.ac(37,"p-autoComplete",16),p.ic("completeMethod",(function(t){return e.searchTrangThaiDuyet(t)})),p.Zb(),p.Zb(),p.Zb(),p.ac(38,"div",5),p.ac(39,"div",6),p.Vb(40,"dft-label-validation",7),p.Vb(41,"input",17),p.Vb(42,"dft-validation",9),p.Zb(),p.Zb(),p.Zb(),p.ac(43,"div",4),p.ac(44,"div",5),p.ac(45,"div",6),p.Vb(46,"dft-label-validation",18),p.Vb(47,"input",19),p.Zb(),p.Zb(),p.ac(48,"div",5),p.ac(49,"div",6),p.Vb(50,"dft-label-validation",10),p.Vb(51,"p-calendar",20),p.Zb(),p.Zb(),p.Zb(),p.ac(52,"div",4),p.ac(53,"div",5),p.ac(54,"div",6),p.Vb(55,"dft-label-validation",10),p.Vb(56,"p-calendar",21),p.Zb(),p.Zb(),p.ac(57,"div",5),p.ac(58,"div",6),p.Vb(59,"dft-label-validation",10),p.Vb(60,"p-calendar",22),p.Zb(),p.Zb(),p.Zb(),p.ac(61,"div",4),p.ac(62,"div",23),p.ac(63,"div",6),p.Vb(64,"dft-label-validation",7),p.Vb(65,"textarea",24),p.Vb(66,"dft-validation",9),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(67,"abp-modal-footer",25),p.ic("onCancelClick",(function(){return e.bsModalRef.hide()})),p.Zb(),p.Zb()),2&t&&(p.sc("formGroup",e.form),p.Ib(2),p.sc("title",e.id?e.isView?"Xem chi ti\u1ebft: "+e.demoDto.tenTS:"C\u1eadp nh\u1eadt: "+e.demoDto.tenTS:"Th\xeam m\u1edbi \u0110\u1ea7u \u0111\u1ecdc"),p.Ib(5),p.sc("control",e.form.get("tenTaiSan"))("title","T\xean \u0111\u1ea7u \u0111\u1ecdc *"),p.Ib(2),p.sc("control",e.form.get("tenTaiSan")),p.Ib(3),p.sc("form",e.form)("title","Lo\u1ea1i t\xe0i s\u1ea3n"),p.Ib(1),p.sc("disabled",!0)("options",e.loaiTaiSanItems)("showClear",!0)("filter",!0),p.Ib(4),p.sc("control",e.form.get("SerialNumber"))("title","S/N (Serial Number)"),p.Ib(2),p.sc("control",e.form.get("SerialNumber")),p.Ib(3),p.sc("control",e.form.get("ProductNumber"))("title","P/N (Product Number)"),p.Ib(2),p.sc("control",e.form.get("ProductNumber")),p.Ib(4),p.sc("control",e.form.get("ReaderMACId"))("title","ReaderMACId *"),p.Ib(2),p.sc("control",e.form.get("ReaderMACId")),p.Ib(7),p.sc("suggestions",e.suggestionsSingle)("dropdown",!0)("forceSelection",!0)("size",30),p.Ib(3),p.sc("control",e.form.get("hangSanXuat"))("title","H\xe3ng s\u1ea3n xu\u1ea5t"),p.Ib(2),p.sc("control",e.form.get("hangSanXuat")),p.Ib(4),p.sc("title","Nguy\xean gi\xe1 (VN\u0110)"),p.Ib(4),p.sc("form",e.form)("title","Ng\xe0y mua"),p.Ib(1),p.sc("dateFormat",e.dateFormatInput)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.yearRange),p.Ib(4),p.sc("form",e.form)("title","Ng\xe0y h\u1ebft h\u1ea1n b\u1ea3o h\xe0nh"),p.Ib(1),p.sc("dateFormat",e.dateFormatInput)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.yearRange),p.Ib(3),p.sc("form",e.form)("title","Ng\xe0y h\u1ebft h\u1ea1n s\u1eed d\u1ee5ng"),p.Ib(1),p.sc("dateFormat",e.dateFormatInput)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.yearRange),p.Ib(4),p.sc("control",e.form.get("ghiChu"))("title","Ghi ch\xfa"),p.Ib(2),p.sc("control",e.form.get("ghiChu")),p.Ib(1),p.sc("cancelDisabled",e.saving)("saveHidden",e.isView)("saveHidden",e.isView)("cancelLabel",e.isView?"\u0110\xf3ng":"H\u1ee7y"))},directives:[f.z,f.q,f.i,y.a,C.a,f.b,f.p,f.g,f.k,T.a,w.a,S.a,I.a,D.a,Z.a,R.a,x.a],styles:[""],data:{animation:[Object(r.b)()]}}),a),P=o("ukTS"),_=o("XDtX"),V=o("rEr+"),F=o("7zfz"),N=o("oStN"),L=["dt"];function M(t,e){1&t&&(p.ac(0,"tr"),p.ac(1,"th",36),p.Vb(2,"p-tableHeaderCheckbox"),p.Zb(),p.Vb(3,"th",36),p.ac(4,"th",37),p.Rc(5,"M\xe3 t\xe0i s\u1ea3n (EPC) "),p.Vb(6,"p-sortIcon",38),p.Zb(),p.ac(7,"th",39),p.Rc(8,"T\xean \u0111\u1ea7u \u0111\u1ecdc "),p.Vb(9,"p-sortIcon",40),p.Zb(),p.ac(10,"th",41),p.Rc(11,"\u0110\u01a1n v\u1ecb qu\u1ea3n l\xfd "),p.Vb(12,"p-sortIcon",42),p.Zb(),p.ac(13,"th",43),p.Rc(14,"T\xecnh tr\u1ea1ng s\u1eed d\u1ee5ng "),p.Vb(15,"p-sortIcon",44),p.Zb(),p.ac(16,"th",45),p.Rc(17,"Ng\xe0y mua "),p.Vb(18,"p-sortIcon",46),p.Zb(),p.ac(19,"th",47),p.Rc(20,"Nh\xe0 cung c\u1ea5p "),p.Vb(21,"p-sortIcon",48),p.Zb(),p.ac(22,"th",49),p.Rc(23,"S/N(Serial Number) "),p.Vb(24,"p-sortIcon",50),p.Zb(),p.ac(25,"th",51),p.Rc(26,"P/N(Product Number) "),p.Vb(27,"p-sortIcon",52),p.Zb(),p.Zb())}function A(t,e){if(1&t){var o=p.bc();p.ac(0,"tr",53),p.ac(1,"td",36),p.Vb(2,"p-tableCheckbox",54),p.Zb(),p.ac(3,"td",36),p.ac(4,"div",55),p.ac(5,"button",56),p.Vb(6,"i",57),p.Zb(),p.ac(7,"div",58),p.ac(8,"a",59),p.ic("click",(function(){p.Ic(o);var t=e.$implicit;return p.lc().view(t.id)})),p.Rc(9,"Xem"),p.Zb(),p.ac(10,"a",59),p.ic("click",(function(){p.Ic(o);var t=e.$implicit;return p.lc().create(t.id)})),p.Rc(11,"C\u1eadp nh\u1eadt"),p.Zb(),p.ac(12,"a",59),p.ic("click",(function(){p.Ic(o);var t=e.$implicit;return p.lc().delete(t)})),p.Rc(13,"X\xf3a"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(14,"td",60),p.Rc(15),p.mc(16,"truncate"),p.Zb(),p.ac(17,"td",61),p.Rc(18),p.mc(19,"truncate"),p.Zb(),p.ac(20,"td",62),p.Rc(21),p.mc(22,"truncate"),p.Zb(),p.ac(23,"td",63),p.Rc(24),p.mc(25,"truncate"),p.Zb(),p.ac(26,"td",61),p.Rc(27),p.mc(28,"truncate"),p.Zb(),p.ac(29,"td",64),p.Rc(30),p.mc(31,"truncate"),p.Zb(),p.ac(32,"td",65),p.Rc(33),p.mc(34,"truncate"),p.Zb(),p.ac(35,"td",66),p.Rc(36),p.mc(37,"truncate"),p.Zb(),p.Zb()}if(2&t){var a=e.$implicit;p.Ib(2),p.sc("value",a),p.Ib(13),p.Tc(" ",p.nc(16,9,a.maEPC)," "),p.Ib(3),p.Tc(" ",p.nc(19,11,a.tenTS)," "),p.Ib(3),p.Tc(" ",p.nc(22,13,a.phongBanQL)," "),p.Ib(3),p.Tc(" ",p.nc(25,15,a.tinhTrangSuDung)," "),p.Ib(3),p.Tc(" ",p.nc(28,17,a.ngayMua)," "),p.Ib(3),p.Tc(" ",p.nc(31,19,a.nhaCungCap)," "),p.Ib(3),p.Tc(" ",p.nc(34,21,a.serialNumber)," "),p.Ib(3),p.Tc(" ",p.nc(37,23,a.productNumber)," ")}}function B(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",67),p.Rc(2),p.Zb(),p.Zb()),2&t){var o=p.lc();p.Ib(2),p.Sc(o.khongCoDuLieu)}}var O,E=l.a.remoteServiceBaseUrl+"/api/Upload/NhaCungCapUpload",H=((O=function(t){_inherits(o,t);var e=_createSuper(o);function o(t,a,n,i,r,c,l){var s;return _classCallCheck(this,o),(s=e.call(this,t))._modalService=a,s._angtenRFIDServiceProxy=n,s._fb=i,s._http=r,s._fileDownloadService=c,s._lookupTableService=l,s.loading=!0,s.exporting=!1,s.totalCount=0,s.records=[],s.selectedList=[],s.listIdXoa=[],s.titleNotice="B\u1ea1n ch\u1eafc ch\u1eafn kh\xf4ng?",s.keyword="",s}return _createClass(o,[{key:"ngOnInit",value:function(){var t=this;this._lookupTableService.getAllToChucTheoNguoiDung().subscribe((function(e){t.toChucItems={data:e,selectedData:e.map((function(t){return t.id}))},t.toChucValue=e.map((function(t){return t.id})),t.getDataPage(!1)})),this._lookupTableService.getAllLoaiTaiSanTree().subscribe((function(e){t.loaiTaiSanItems=t.getTreeviewItem(e)})),this._lookupTableService.getAllTrangThaiTaiSanTimKiem().subscribe((function(e){t.listTrangThaiTaiSan=e})),this.khoiTaoForm()}},{key:"khoiTaoForm",value:function(){this.form=this._fb.group({keyword:[""],PhongBan:[""],TinhTrangFilter:[""]})}},{key:"getDataPage",value:function(t,e){var o,a=this;console.log(e),this.selectedList=[],this.loading=!0,this._angtenRFIDServiceProxy.getAll(this.keyword||void 0,this.toChucValue,null===(o=this.form.controls.TinhTrangFilter.value)||void 0===o?void 0:o.id,t,this.getSortField(this.table),e?e.first:this.table.first,e?e.rows:this.table.rows).pipe(Object(b.a)((function(){a.loading=!1}))).subscribe((function(t){a.records=t.items,a.totalCount=t.totalCount}))}},{key:"create",value:function(t){this._showCreateOrEditDemoDialog(t)}},{key:"view",value:function(t){this._showCreateOrEditDemoDialog(t,!0)}},{key:"_showCreateOrEditDemoDialog",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._modalService.show(k,{class:"modal-xl",ignoreBackdropClick:!0,initialState:{id:t,isView:o}}).content.onSave.subscribe((function(){e.getDataPage(!1)}))}},{key:"delete",value:function(t){var e=this;0===t.trangThaiId?this.swal.fire({title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf4ng?",text:"T\xe0i s\u1ea3n "+t.tenTS+" s\u1ebd b\u1ecb x\xf3a!",icon:"warning",showCancelButton:!0,confirmButtonColor:this.confirmButtonColor,cancelButtonColor:this.cancelButtonColor,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText}).then((function(o){o.value&&e._angtenRFIDServiceProxy.deleted(t.id).subscribe((function(){e.showDeleteMessage(),e.getDataPage(!1)}))})):this._thongBao("T\xe0i s\u1ea3n "+t.tenTS+" s\u1ebd b\u1ecb x\xf3a!","\u0110\u1ea7u \u0111\u1ecdc c\u1ed1 \u0111\u1ecbnh \u0111ang c\xf3 r\u1eb1ng bu\u1ed9c d\u1eef li\u1ec7u, kh\xf4ng \u0111\u01b0\u1ee3c x\xf3a!")}},{key:"xoaList",value:function(t){var e=this;t.filter((function(t){return 0===t.trangThaiId})).forEach((function(t){e.listIdXoa.push(t.id)})),this.listIdXoa.length>0?this.swal.fire({title:this.titleNotice,text:"Danh s\xe1ch t\xe0i s\u1ea3n \u0111\xe3 ch\u1ecdn s\u1ebd b\u1ecb x\xf3a.",icon:"warning",showCancelButton:!0,confirmButtonColor:this.confirmButtonColor,cancelButtonColor:this.cancelButtonColor,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText}).then((function(t){t.value&&e._angtenRFIDServiceProxy.xoaList(e.listIdXoa).subscribe((function(){e.showDeleteMessage(),e.getDataPage(!1)}))})):this._thongBao("Danh s\xe1ch t\xe0i s\u1ea3n \u0111\xe3 ch\u1ecdn s\u1ebd b\u1ecb x\xf3a.","X\xf3a kh\xf4ng th\xe0nh c\xf4ng!")}},{key:"importExcel",value:function(){this._showImportDemoDialog()}},{key:"_showImportDemoDialog",value:function(){var t,e=this;(t=this._modalService.show(s.a,{class:"modal-lg",ignoreBackdropClick:!0,initialState:{maxFile:1,excelAcceptTypes:this.excelAcceptTypes}})).content.onDownload.subscribe((function(){e._angtenRFIDServiceProxy.downloadFileMau().subscribe((function(o){t.content.downLoading=!1,e._fileDownloadService.downloadTempFile(o)}))})),t.content.onSave.subscribe((function(o){t.content.returnMessage="\u0110ang upload file....";for(var a=new FormData,n=0;n<o.length;n++)a.append(n+1+"",o[n]);e._http.post(E,a).subscribe((function(o){e._angtenRFIDServiceProxy.importFileExcel(o.result[0]).subscribe((function(e){t.content.returnMessage=e,t.content.uploading=!1,t.content.uploadDone()}))}))})),t.content.onClose.subscribe((function(){e.getDataPage(!1)}))}},{key:"exportToExcel",value:function(){var t,e=this;this.exporting=!0,this.input=new d.J,this.input.tenTS=this.keyword||void 0,this.input.phongBanSuDung=this.toChucValue,this.input.tinhTrangSuDung=null===(t=this.form.controls.TinhTrangFilter.value)||void 0===t?void 0:t.id,this.input.skipCount=0,this.input.maxResultCount=1e7,this._angtenRFIDServiceProxy.exportToExcel(this.input).subscribe((function(t){e._fileDownloadService.downloadTempFile(t),e.exporting=!1}),(function(){e.exporting=!1}))}},{key:"_thongBao",value:function(t,e){var o=this;this.swal.fire({title:this.titleNotice,text:t,icon:"warning",showCancelButton:!0,confirmButtonColor:this.confirmButtonColor,cancelButtonColor:this.cancelButtonColor,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText}).then((function(){o.showExistMessage(e)}))}}]),o}(c.a)).\u0275fac=function(t){return new(t||O)(p.Ub(p.u),p.Ub(h.b),p.Ub(d.c),p.Ub(f.d),p.Ub(v.b),p.Ub(u.a),p.Ub(d.T))},O.\u0275cmp=p.Ob({type:O,selectors:[["app-angten-rfid"]],viewQuery:function(t,e){var o;1&t&&p.Vc(L,!0),2&t&&p.Ec(o=p.jc())&&(e.table=o.first)},features:[p.Fb],decls:51,vars:26,consts:[["id","toanBoTS",1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["type","button",1,"btn","btn-success","m-r-5","m-t-5",2,"width","130px !important",3,"click"],[1,"fa","fa-upload"],[2,"margin-left","5px"],["type","button",1,"btn","btn-success","m-r-5","m-t-5",2,"width","130px !important",3,"buttonBusy","click"],[1,"fa","fa-download"],["type","button",1,"btn","btn-primary","m-r-5","m-t-5",2,"width","130px !important",3,"click"],[1,"fa","fa-plus"],[1,"content","px-2"],[1,"card","m-0"],[1,"card-header"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup.enter"],[1,"form-horizontal",3,"formGroup"],[1,"ui-fluid","row","m-t-10"],[1,"col-md-6"],[1,"form-group"],[3,"form","title"],[3,"dataEdit","onSelect"],["formControlName","TinhTrangFilter","placeholder","Ch\u1ecdn","optionLabel","displayName","resetFilterOnHide","true",3,"options","showClear","filter"],[1,"row","justify-content-end"],[1,"col-lg-6","col-md-12","col-sm-12","text-right"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fas","fa-trash"],[3,"value","lazy","paginator","loading","showCurrentPageReport","currentPageReportTemplate","rows","totalRecords","rowsPerPageOptions","scrollable","scrollHeight","selection","onLazyLoad","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"width-30"],["pSortableColumn","maEPC",1,"width-180"],["field","maEPC"],["pSortableColumn","tenTS",1,"width-150"],["field","tenTS"],["pSortableColumn","phongBanQL",1,"width-220"],["field","phongBanQL"],["pSortableColumn","trangThaiId",1,"width-200"],["field","trangThaiId"],["pSortableColumn","ngayMuaDateTime",1,"width-150"],["field","ngayMuaDateTime"],["pSortableColumn","nhaCungCap",1,"width-170"],["field","nhaCungCap"],["pSortableColumn","serialNumber",1,"width-190"],["field","serialNumber"],["pSortableColumn","productNumber",1,"width-210"],["field","productNumber"],[1,"ui-selectable-row"],[3,"value"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle","btn","btn-sm","btn-transparent","btn-action"],[1,"fas","fa-ellipsis-v"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"width-180"],[1,"width-150"],[1,"width-220"],[1,"width-200"],[1,"width-170"],[1,"width-190"],[1,"width-210"],["colspan","8",1,"text-left"]],template:function(t,e){1&t&&(p.ac(0,"div"),p.ac(1,"section",0),p.ac(2,"div",1),p.ac(3,"div",2),p.ac(4,"div",3),p.ac(5,"h1"),p.Rc(6,"Danh s\xe1ch \u0110\u1ea7u \u0111\u1ecdc c\u1ed1 \u0111\u1ecbnh"),p.Zb(),p.Zb(),p.ac(7,"div",4),p.ac(8,"button",5),p.ic("click",(function(){return e.importExcel()})),p.Vb(9,"i",6),p.ac(10,"span",7),p.Rc(11,"Nh\u1eadp Excel"),p.Zb(),p.Zb(),p.ac(12,"button",8),p.ic("click",(function(){return e.exportToExcel()})),p.Vb(13,"i",9),p.ac(14,"span",7),p.Rc(15,"Xu\u1ea5t Excel"),p.Zb(),p.Zb(),p.ac(16,"button",10),p.ic("click",(function(){return e.create()})),p.Vb(17,"i",11),p.ac(18,"span",7),p.Rc(19,"Th\xeam m\u1edbi"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(20,"section",12),p.ac(21,"div",1),p.ac(22,"div",13),p.ac(23,"div",14),p.ac(24,"div",15),p.ac(25,"div",16),p.ac(26,"button",17),p.ic("click",(function(){return e.getDataPage(!0)})),p.Vb(27,"i",18),p.Zb(),p.Zb(),p.ac(28,"input",19),p.ic("ngModelChange",(function(t){return e.keyword=t}))("keyup.enter",(function(){return e.getDataPage(!0)})),p.Zb(),p.Zb(),p.ac(29,"form",20),p.ac(30,"div",21),p.ac(31,"div",22),p.ac(32,"div",23),p.Vb(33,"dft-label-validation",24),p.ac(34,"app-multiple-select-tree",25),p.ic("onSelect",(function(t){return e.toChucValue=t})),p.Zb(),p.Zb(),p.Zb(),p.ac(35,"div",22),p.ac(36,"div",23),p.Vb(37,"dft-label-validation",24),p.Vb(38,"p-dropdown",26),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(39,"div",27),p.ac(40,"div",28),p.ac(41,"button",29),p.ic("click",(function(){return e.xoaList(e.selectedList)})),p.Vb(42,"i",30),p.ac(43,"span",7),p.Rc(44,"X\xf3a"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(45,"div"),p.ac(46,"p-table",31,32),p.ic("onLazyLoad",(function(t){return e.getDataPage(!1,t)}))("selectionChange",(function(t){return e.selectedList=t})),p.Pc(48,M,28,0,"ng-template",33),p.Pc(49,A,38,25,"ng-template",34),p.Pc(50,B,3,1,"ng-template",35),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.sc("@routerTransition",void 0),p.Ib(12),p.sc("buttonBusy",e.exporting),p.Ib(16),p.sc("placeholder","Nh\u1eadp t\xean \u0111\u1ea7u \u0111\u1ecdc")("ngModel",e.keyword),p.Ib(1),p.sc("formGroup",e.form),p.Ib(4),p.sc("form",e.form)("title","\u0110\u01a1n v\u1ecb qu\u1ea3n l\xfd"),p.Ib(1),p.sc("dataEdit",e.toChucItems),p.Ib(3),p.sc("form",e.form)("title","T\xecnh tr\u1ea1ng s\u1eed d\u1ee5ng"),p.Ib(1),p.sc("options",e.listTrangThaiTaiSan)("showClear",!0)("filter",!0),p.Ib(3),p.sc("disabled",0===e.selectedList.length),p.Ib(5),p.uc("currentPageReportTemplate","",0==e.totalCount?"":" Hi\u1ec3n th\u1ecb: {first}-{last}/{totalRecords}"," "),p.tc("scrollHeight",e.scrollHeight),p.sc("value",e.records)("lazy",!0)("paginator",e.paginator)("loading",e.loading)("showCurrentPageReport",e.showCurrentPageReport)("rows",e.paginatorRows)("totalRecords",e.totalCount)("rowsPerPageOptions",e.rowsPerPageOptions)("scrollable",e.scrollable)("selection",e.selectedList))},directives:[P.a,f.b,f.p,f.s,f.z,f.q,f.i,C.a,_.a,S.a,f.g,V.c,F.d,V.e,V.b,V.a,V.d],pipes:[N.a],styles:[""],data:{animation:[Object(r.b)()]}}),O),U=["dt"];function z(t,e){1&t&&(p.ac(0,"tr"),p.ac(1,"th",33),p.Rc(2,"M\xe3 t\xe0i s\u1ea3n (EPC) "),p.Vb(3,"p-sortIcon",34),p.Zb(),p.ac(4,"th",35),p.Rc(5,"T\xean t\xe0i s\u1ea3n "),p.Vb(6,"p-sortIcon",36),p.Zb(),p.ac(7,"th",37),p.Rc(8,"\u0110\u01a1n v\u1ecb qu\u1ea3n l\xfd "),p.Vb(9,"p-sortIcon",38),p.Zb(),p.ac(10,"th",39),p.Rc(11,"Ng\xe0y di chuy\u1ec3n "),p.Vb(12,"p-sortIcon",40),p.Zb(),p.ac(13,"th",41),p.Rc(14,"Chi\u1ec1u di chuy\u1ec3n "),p.Vb(15,"p-sortIcon",42),p.Zb(),p.ac(16,"th",43),p.Rc(17,"Ph\xe2n lo\u1ea1i "),p.Vb(18,"p-sortIcon",44),p.Zb(),p.Zb())}function j(t,e){if(1&t&&(p.ac(0,"tr",45),p.ac(1,"td",46),p.Rc(2),p.mc(3,"truncate"),p.Zb(),p.ac(4,"td",47),p.Rc(5),p.mc(6,"truncate"),p.Zb(),p.ac(7,"td",48),p.Rc(8),p.mc(9,"truncate"),p.Zb(),p.ac(10,"td",49),p.Rc(11),p.mc(12,"date"),p.Zb(),p.ac(13,"td",50),p.Rc(14),p.mc(15,"truncate"),p.Zb(),p.ac(16,"td",51),p.Rc(17),p.mc(18,"truncate"),p.Zb(),p.Zb()),2&t){var o=e.$implicit;p.Ib(2),p.Tc(" ",p.nc(3,6,o.maRFID)," "),p.Ib(3),p.Tc(" ",p.nc(6,8,o.tenTaiSan)," "),p.Ib(3),p.Tc(" ",p.nc(9,10,o.donViSuDung)," "),p.Ib(3),p.Tc(" ",p.oc(12,12,o.ngayDiChuyen,"dd/MM/yyyy hh:mm:ss")," "),p.Ib(3),p.Tc(" ",p.nc(15,15,o.chieuDiChuyen)," "),p.Ib(3),p.Tc(" ",p.nc(18,17,o.phanLoai)," ")}}function X(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",52),p.Rc(2),p.Zb(),p.Zb()),2&t){var o=p.lc();p.Ib(2),p.Sc(o.khongCoDuLieu)}}var G,q=((G=function(t){_inherits(o,t);var e=_createSuper(o);function o(t,a,n,i,r){var c;return _classCallCheck(this,o),(c=e.call(this,t))._lichsuRaVaoAngtenServiceProxy=a,c._fb=n,c._lookupTableService=i,c._fileDownloadService=r,c.loading=!0,c.totalCount=0,c.records=[],c.exporting=!1,c.listChieuDiChuyen=[],c.listPhanLoaiTaiSan=[],c.toChucValue=[],c}return _createClass(o,[{key:"ngOnInit",value:function(){var t=this;this._lookupTableService.getAllToChucTheoNguoiDung().subscribe((function(e){t.toChucItems={data:e,selectedData:e.map((function(t){return t.id}))},t.toChucValue=e.map((function(t){return t.id})),t.getDataPage(!1)})),this._lookupTableService.getAllPhanLoaiTaiSanTrongHeThong().subscribe((function(e){t.listPhanLoaiTaiSan=e})),this._lookupTableService.getAllChieuTaiSanDiChuyen().subscribe((function(e){t.listChieuDiChuyen=e})),this.khoiTaoForm()}},{key:"khoiTaoForm",value:function(){this.form=this._fb.group({keyword:[""],PhongBan:[""],PhanLoaiFilter:[""],chieuDiChuyen:[""],DateFromTo:[]})}},{key:"getDataPage",value:function(t,e){var o,a,n=this;this.toChucValue.length>0&&(this.loading=!0,this._lichsuRaVaoAngtenServiceProxy.getAll(this.form.controls.keyword.value||void 0,this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[0]:null,this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[1]:null,null===(o=this.form.controls.chieuDiChuyen.value)||void 0===o?void 0:o.displayName,this.toChucValue,null===(a=this.form.controls.PhanLoaiFilter.value)||void 0===a?void 0:a.id,t,this.getSortField(this.table),e?e.first:0,e?e.rows:this.table.rows).pipe(Object(b.a)((function(){n.loading=!1}))).subscribe((function(t){n.records=t.items,n.totalCount=t.totalCount})))}},{key:"exportToExcel",value:function(){var t,e,o=this;this.exporting=!0,this.input=new d.I,this.input.keyword=this.form.controls.keyword.value||void 0,this.input.startDate=this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[0]:null,this.input.endDate=this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[1]:null,this.input.chieuDiChuyen=null===(t=this.form.controls.chieuDiChuyen.value)||void 0===t?void 0:t.displayName,this.input.boPhanId=this.toChucValue,this.input.phanLoaiId=null===(e=this.form.controls.PhanLoaiFilter.value)||void 0===e?void 0:e.id,this.input.skipCount=0,this.input.maxResultCount=1e7,this._lichsuRaVaoAngtenServiceProxy.exportLichSuRaVaoToExcel(this.input).subscribe((function(t){o._fileDownloadService.downloadTempFile(t),o.exporting=!1}),(function(){o.exporting=!1}))}}]),o}(c.a)).\u0275fac=function(t){return new(t||G)(p.Ub(p.u),p.Ub(d.P),p.Ub(f.d),p.Ub(d.T),p.Ub(u.a))},G.\u0275cmp=p.Ob({type:G,selectors:[["app-giam-sat-tai-san"]],viewQuery:function(t,e){var o;1&t&&p.Vc(U,!0),2&t&&p.Ec(o=p.jc())&&(e.table=o.first)},features:[p.Fb],decls:47,vars:33,consts:[["id","tesst",1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["type","button",1,"btn","btn-success","m-r-5","m-t-5",2,"width","130px !important",3,"buttonBusy","click"],[1,"fa","fa-download"],[2,"margin-left","5px"],["tabindex","-1","autocomplete","off",1,"form-horizontal",3,"formGroup"],["createUserModal","ngForm"],[1,"content","px-2"],[1,"card","m-0"],[1,"card-header"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword","formControlName","keyword",1,"form-control",3,"placeholder","keyup.enter"],[1,"ui-fluid","row"],[1,"col-lg-6","col-xs-12"],[1,"form-group"],["for","Time","id","Time"],["formControlName","DateFromTo","selectionMode","range",3,"dateFormat","showIcon","monthNavigator","yearNavigator","yearRange"],[1,"col-md-6"],[3,"form","title"],[3,"dataEdit","onSelect"],["formControlName","chieuDiChuyen","placeholder","Ch\u1ecdn","optionLabel","displayName","resetFilterOnHide","true",3,"options","showClear","filter"],["formControlName","PhanLoaiFilter","placeholder","Ch\u1ecdn","optionLabel","displayName","resetFilterOnHide","true",3,"options","showClear","filter"],[3,"value","lazy","paginator","loading","showCurrentPageReport","currentPageReportTemplate","rows","totalRecords","rowsPerPageOptions","scrollable","scrollHeight","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","maRFID",1,"width-200"],["field","maRFID"],["pSortableColumn","tenTaiSan",1,"width-200"],["field","tenTaiSan"],["pSortableColumn","donViSuDung",1,"width-150"],["field","donViSuDung"],["pSortableColumn","ngayDiChuyen",1,"width-130"],["field","ngayDiChuyen"],["pSortableColumn","chieuDiChuyen",1,"width-70"],["field","chieuDiChuyen"],["pSortableColumn","loaiTaiSan",1,"width-150"],["field","loaiTaiSan"],[1,"ui-selectable-row"],[1,"width-230"],[1,"width-200"],[1,"width-180"],[1,"width-150"],[1,"width-70"],[1,"width-170"],["colspan","8",1,"text-left"]],template:function(t,e){1&t&&(p.ac(0,"div"),p.ac(1,"section",0),p.ac(2,"div",1),p.ac(3,"div",2),p.ac(4,"div",3),p.ac(5,"h1"),p.Rc(6,"Gi\xe1m s\xe1t t\xe0i s\u1ea3n"),p.Zb(),p.Zb(),p.ac(7,"div",4),p.ac(8,"button",5),p.ic("click",(function(){return e.exportToExcel()})),p.Vb(9,"i",6),p.ac(10,"span",7),p.Rc(11,"Xu\u1ea5t Excel"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(12,"form",8,9),p.ac(14,"section",10),p.ac(15,"div",11),p.ac(16,"div",12),p.ac(17,"div",13),p.ac(18,"div",14),p.ac(19,"button",15),p.ic("click",(function(){return e.getDataPage(!0)})),p.Vb(20,"i",16),p.Zb(),p.Zb(),p.ac(21,"input",17),p.ic("keyup.enter",(function(){return e.getDataPage(!0)})),p.Zb(),p.Zb(),p.Vb(22,"br"),p.ac(23,"div",18),p.ac(24,"div",19),p.ac(25,"div",20),p.ac(26,"label",21),p.Rc(27,"Th\u1eddi gian"),p.Zb(),p.Vb(28,"p-calendar",22),p.Zb(),p.Zb(),p.ac(29,"div",23),p.ac(30,"div",20),p.Vb(31,"dft-label-validation",24),p.ac(32,"app-multiple-select-tree",25),p.ic("onSelect",(function(t){return e.toChucValue=t})),p.Zb(),p.Zb(),p.Zb(),p.ac(33,"div",23),p.ac(34,"div",20),p.Vb(35,"dft-label-validation",24),p.Vb(36,"p-dropdown",26),p.Zb(),p.Zb(),p.ac(37,"div",23),p.ac(38,"div",20),p.Vb(39,"dft-label-validation",24),p.Vb(40,"p-dropdown",27),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(41,"div"),p.ac(42,"p-table",28,29),p.ic("onLazyLoad",(function(t){return e.getDataPage(!1,t)})),p.Pc(44,z,19,0,"ng-template",30),p.Pc(45,j,19,19,"ng-template",31),p.Pc(46,X,3,1,"ng-template",32),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.sc("@routerTransition",void 0),p.Ib(8),p.sc("buttonBusy",e.exporting),p.Ib(4),p.sc("formGroup",e.form),p.Ib(9),p.sc("placeholder","Nh\u1eadp m\xe3 RFID, t\xean t\xe0i s\u1ea3n"),p.Ib(7),p.sc("dateFormat",e.dateFormatInput)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.yearRange),p.Ib(3),p.sc("form",e.form)("title","\u0110\u01a1n v\u1ecb qu\u1ea3n l\xfd"),p.Ib(1),p.sc("dataEdit",e.toChucItems),p.Ib(3),p.sc("form",e.form)("title","Chi\u1ec1u di chuy\u1ec3n"),p.Ib(1),p.sc("options",e.listChieuDiChuyen)("showClear",!0)("filter",!0),p.Ib(3),p.sc("form",e.form)("title","Ph\xe2n lo\u1ea1i"),p.Ib(1),p.sc("options",e.listPhanLoaiTaiSan)("showClear",!0)("filter",!0),p.Ib(2),p.uc("currentPageReportTemplate","",0==e.totalCount?"":" Hi\u1ec3n th\u1ecb: {first}-{last}/{totalRecords}"," "),p.tc("scrollHeight",e.scrollHeight),p.sc("value",e.records)("lazy",!0)("paginator",e.paginator)("loading",e.loading)("showCurrentPageReport",e.showCurrentPageReport)("rows",e.paginatorRows)("totalRecords",e.totalCount)("rowsPerPageOptions",e.rowsPerPageOptions)("scrollable",e.scrollable))},directives:[P.a,f.z,f.q,f.i,f.b,f.p,f.g,R.a,C.a,_.a,S.a,V.c,F.d,V.b,V.a],pipes:[N.a,n.d],styles:[""],data:{animation:[Object(r.b)()]}}),G),$=o("JeUU"),Q=["dt"];function Y(t,e){1&t&&(p.ac(0,"tr"),p.ac(1,"th",28),p.Rc(2,"M\xe3 RFID "),p.Vb(3,"p-sortIcon",29),p.Zb(),p.ac(4,"th",30),p.Rc(5,"Ng\xe0y di chuy\u1ec3n "),p.Vb(6,"p-sortIcon",31),p.Zb(),p.Zb())}function K(t,e){if(1&t){var o=p.bc();p.ac(0,"tr",32),p.ac(1,"td",33),p.Rc(2),p.mc(3,"truncate"),p.Zb(),p.ac(4,"td",34),p.Rc(5),p.mc(6,"date"),p.Zb(),p.ac(7,"td",35),p.ac(8,"div",36),p.ac(9,"button",37),p.ic("click",(function(){p.Ic(o);var t=e.$implicit;return p.lc().create(t.maRFID)})),p.Vb(10,"i",38),p.Zb(),p.Zb(),p.Zb(),p.Zb()}if(2&t){var a=e.$implicit;p.Ib(2),p.Tc(" ",p.nc(3,2,a.maRFID)," "),p.Ib(3),p.Tc(" ",p.oc(6,4,a.ngayDiChuyen,"dd/MM/yyyy hh:mm:ss")," ")}}function J(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",39),p.Rc(2),p.Zb(),p.Zb()),2&t){var o=p.lc();p.Ib(2),p.Sc(o.khongCoDuLieu)}}var W,tt,et,ot=[{path:"dau-doc-co-dinh",component:H},{path:"giam-sat-tai-san",component:q},{path:"theo-doi-ket-noi-thiet-bi",component:(W=function(t){_inherits(o,t);var e=_createSuper(o);function o(t,a,n,i,r,c,l){var s;return _classCallCheck(this,o),(s=e.call(this,t))._lichsuRaVaoAngtenServiceProxy=a,s._toanBoTaiSanServiceProxy=n,s._fb=i,s._modalService=r,s._lookupTableService=c,s._fileDownloadService=l,s.selectedList=[],s.loading=!0,s.totalCount=0,s.records=[],s.createInputDto={TaiSanId:0,RFID:""},s.exporting=!1,s.listChieuDiChuyen=[],s.listPhanLoaiTaiSan=[],s}return _createClass(o,[{key:"ngOnInit",value:function(){var t=this;this._lookupTableService.getAllToChucTheoNguoiDung().subscribe((function(e){t.toChucItems={data:e,selectedData:e.map((function(t){return t.id}))},t.toChucValue=e.map((function(t){return t.id})),t.getDataPage(!1)})),this._lookupTableService.getAllPhanLoaiTaiSanTrongHeThong().subscribe((function(e){t.listPhanLoaiTaiSan=e})),this._lookupTableService.getAllChieuTaiSanDiChuyen().subscribe((function(e){t.listChieuDiChuyen=e})),this.khoiTaoForm()}},{key:"khoiTaoForm",value:function(){this.form=this._fb.group({keyword:[""],PhongBan:[""],PhanLoaiFilter:[""],chieuDiChuyen:[""],DateFromTo:[]})}},{key:"getDataPage",value:function(t,e){var o,a,n=this;this.selectedList=[],this.loading=!0,this._lichsuRaVaoAngtenServiceProxy.getAllTaiSanLa(this.form.controls.keyword.value||void 0,this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[0]:null,this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[1]:null,null===(o=this.form.controls.chieuDiChuyen.value)||void 0===o?void 0:o.id,this.toChucValue,null===(a=this.form.controls.PhanLoaiFilter.value)||void 0===a?void 0:a.id,t,this.getSortField(this.table),e?e.first:0,e?e.rows:this.table.rows).pipe(Object(b.a)((function(){n.loading=!1}))).subscribe((function(t){n.records=t.items,n.totalCount=t.totalCount}))}},{key:"exportToExcel",value:function(){var t,e,o=this;this.exporting=!0,this.input=new d.I,this.input.keyword=this.form.controls.keyword.value||void 0,this.input.startDate=this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[0]:null,this.input.endDate=this.form.controls.DateFromTo.value?this.form.controls.DateFromTo.value[1]:null,this.input.chieuDiChuyen=null===(t=this.form.controls.chieuDiChuyen.value)||void 0===t?void 0:t.id,this.input.boPhanId=this.toChucValue,this.input.phanLoaiId=null===(e=this.form.controls.PhanLoaiFilter.value)||void 0===e?void 0:e.id,this.input.skipCount=0,this.input.maxResultCount=1e7,this._lichsuRaVaoAngtenServiceProxy.exportTaiSanLaToExcel(this.input).subscribe((function(t){o._fileDownloadService.downloadTempFile(t),o.exporting=!1}),(function(){o.exporting=!1}))}},{key:"create",value:function(t){this._showCreateOrEditDemoDialog(t)}},{key:"_showCreateOrEditDemoDialog",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._modalService.show($.a,{class:"modal-xl",ignoreBackdropClick:!0,initialState:{isView:o}}).content.onSave.subscribe((function(o){e.createInputDto.TaiSanId=o,e.createInputDto.RFID=t,e._lichsuRaVaoAngtenServiceProxy.update(e.createInputDto).subscribe((function(){e.getDataPage(!1)}))}))}}]),o}(c.a),W.\u0275fac=function(t){return new(t||W)(p.Ub(p.u),p.Ub(d.P),p.Ub(d.zb),p.Ub(f.d),p.Ub(h.b),p.Ub(d.T),p.Ub(u.a))},W.\u0275cmp=p.Ob({type:W,selectors:[["app-theo-doi-ket-noi-thiet-bi"]],viewQuery:function(t,e){var o;1&t&&p.Vc(Q,!0),2&t&&p.Ec(o=p.jc())&&(e.table=o.first)},features:[p.Fb],decls:35,vars:21,consts:[["id","tesst",1,"content-header"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"col-6","text-right"],["type","button",1,"btn","btn-success","m-r-5","m-t-5",2,"width","130px !important",3,"buttonBusy","click"],[1,"fa","fa-download"],[2,"margin-left","5px"],["tabindex","-1","autocomplete","off",1,"form-horizontal",3,"formGroup"],["createUserModal","ngForm"],[1,"content","px-2"],[1,"card","m-0"],[1,"card-header"],[1,"input-group"],[1,"input-group-prepend"],["type","button",1,"btn","bg-blue",3,"click"],[1,"fas","fa-search"],["type","text","name","keyword","formControlName","keyword",1,"form-control",3,"placeholder","keyup.enter"],[1,"ui-fluid","row"],[1,"col-lg-6","col-xs-12"],[1,"form-group"],["for","Time","id","Time"],["formControlName","DateFromTo","selectionMode","range",3,"dateFormat","showIcon","monthNavigator","yearNavigator","yearRange"],[3,"value","lazy","paginator","loading","showCurrentPageReport","currentPageReportTemplate","rows","totalRecords","rowsPerPageOptions","scrollable","scrollHeight","selection","onLazyLoad","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","maRFID",1,"width-200"],["field","maRFID"],["pSortableColumn","ngayDiChuyen",1,"width-130"],["field","ngayDiChuyen"],[1,"ui-selectable-row"],[1,"width-270"],[1,"width-150"],[1,"width-30"],[1,"dropdown"],["type","button","aria-haspopup","true","aria-expanded","false",1,"btn","btn-sm","btn-transparent","btn-action",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],["colspan","8",1,"text-left"]],template:function(t,e){1&t&&(p.ac(0,"div"),p.ac(1,"section",0),p.ac(2,"div",1),p.ac(3,"div",2),p.ac(4,"div",3),p.ac(5,"h1"),p.Rc(6,"Theo d\xf5i k\u1ebft n\u1ed1i thi\u1ebft b\u1ecb"),p.Zb(),p.Zb(),p.ac(7,"div",4),p.ac(8,"button",5),p.ic("click",(function(){return e.exportToExcel()})),p.Vb(9,"i",6),p.ac(10,"span",7),p.Rc(11,"Xu\u1ea5t Excel"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(12,"form",8,9),p.ac(14,"section",10),p.ac(15,"div",11),p.ac(16,"div",12),p.ac(17,"div",13),p.ac(18,"div",14),p.ac(19,"button",15),p.ic("click",(function(){return e.getDataPage(!0)})),p.Vb(20,"i",16),p.Zb(),p.Zb(),p.ac(21,"input",17),p.ic("keyup.enter",(function(){return e.getDataPage(!0)})),p.Zb(),p.Zb(),p.Vb(22,"br"),p.ac(23,"div",18),p.ac(24,"div",19),p.ac(25,"div",20),p.ac(26,"label",21),p.Rc(27,"Th\u1eddi gian"),p.Zb(),p.Vb(28,"p-calendar",22),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(29,"div"),p.ac(30,"p-table",23,24),p.ic("onLazyLoad",(function(t){return e.getDataPage(!1,t)}))("selectionChange",(function(t){return e.selectedList=t})),p.Pc(32,Y,7,0,"ng-template",25),p.Pc(33,K,11,7,"ng-template",26),p.Pc(34,J,3,1,"ng-template",27),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.sc("@routerTransition",void 0),p.Ib(8),p.sc("buttonBusy",e.exporting),p.Ib(4),p.sc("formGroup",e.form),p.Ib(9),p.sc("placeholder","Nh\u1eadp m\xe3 RFID"),p.Ib(7),p.sc("dateFormat",e.dateFormatInput)("showIcon",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.yearRange),p.Ib(2),p.uc("currentPageReportTemplate","",0==e.totalCount?"":" Hi\u1ec3n th\u1ecb: {first}-{last}/{totalRecords}"," "),p.tc("scrollHeight",e.scrollHeight),p.sc("value",e.records)("lazy",!0)("paginator",e.paginator)("loading",e.loading)("showCurrentPageReport",e.showCurrentPageReport)("rows",e.paginatorRows)("totalRecords",e.totalCount)("rowsPerPageOptions",e.rowsPerPageOptions)("scrollable",e.scrollable)("selection",e.selectedList))},directives:[P.a,f.z,f.q,f.i,f.b,f.p,f.g,R.a,V.c,F.d,V.b,V.a],pipes:[N.a,n.d],styles:[""]}),W)}],at=((tt=function t(){_classCallCheck(this,t)}).\u0275mod=p.Sb({type:tt}),tt.\u0275inj=p.Rb({factory:function(t){return new(t||tt)},imports:[[i.g.forChild(ot)],i.g]}),tt),nt=o("KZX/"),it=((et=function t(){_classCallCheck(this,t)}).\u0275mod=p.Sb({type:et}),et.\u0275inj=p.Rb({factory:function(t){return new(t||et)},imports:[[n.b,nt.a,at]]}),et)}}]);